window.SRBInfoAndSupport=function(){"use strict";return{init:function(e){var t;e.getId?(t=e.getId(),t=sap.ui.getCore().getComponent(t).getManifestObject()._oManifest,this.version=t._version,this.licenseObject=t._srbVersionInfo.licenses||{},this.appCopyright=t._srbVersionInfo.copyright+"\n",this.appName=t._srbVersionInfo.productName,this.latestCommitHash=t._srbVersionInfo.latestCommitHash):(this.version=(t=e).version,this.licenseObject=t.licenses||{},this.appCopyright=t.copyright+"\n",this.appName=t.appname,this.latestCommitHash=t.latestCommitHash)},initHiddenInfo:function(e){var t=this,n=0,o=(e=e||{},setInterval(function(){n=0},2e3),document.getElementById(e.domElementId)||document.getElementById("content"));null===document.getElementById(e.domElementId)&&void 0===e.domElementId?console.warn("Using dom element with id >content<"):null===document.getElementById(e.domElementId)&&void 0!==e.domElementId&&console.warn("Dom element with id: >"+e.domElementId+"< not found. Using dom element with id >content<"),o.onclick=function(){10===++n&&(e.showOverviewDialog&&t.showOverviewDialog(),!0===e.overviewDialog&&t.showOverviewDialog(),!0===e.supportDialog&&t.showSupportDialog(),!0!==e.supportDialog)&&!0!==e.overviewDialog&&t.showOverviewDialog()}},createStyleClass:function(e,t){var n=document.createElement("style"),o={},i=(n.type="text/css","");return Object.keys(t).forEach(function(e){i+=e+": "+t[e]}),n.innerHTML=e+" { "+i+"}",void 0!==o[n.id=e]&&!o[!1===e]||(document.getElementsByTagName("head")[0].appendChild(n),o[e]=!0),n},captureScreenshot:function(){return"undefined"==typeof html2canvas?(console.warn("html2canvas not found, proceeding without a screenshot."),new Promise((e,t)=>{t()})):html2canvas(document.body)},getCopyRight:function(){return this.copyright},getLicenseObject:function(){return this.licenseObject||{}},getVersion:function(){return this.version},getGitCommitHash:function(){return this.latestCommitHash},getAppName:function(){return this.appName},getFullUrl:function(){return window.location.href},getProtocol:function(){return location.protocol},getPort:function(){return location.port},getHostname:function(){return location.hostname},getNavigatorDetails:function(){return navigator.appVersion},getZoom:function(){var e=0,t=window.screen,n=navigator.userAgent.toLowerCase();return void 0!==window.devicePixelRatio?e=window.devicePixelRatio:~n.indexOf("msie")?t.deviceXDPI&&t.logicalXDPI&&(e=t.deviceXDPI/t.logicalXDPI):void 0!==window.outerWidth&&void 0!==window.innerWidth&&(e=window.outerWidth/window.innerWidth),e=e&&Math.round(100*e)},getScreensize:function(){return window.screen.availHeight+"x"+window.screen.availWidth},downloadURI:function(e,t){try{const n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),setTimeout(()=>{URL.revokeObjectURL(n.href),document.body.removeChild(n)},100)}catch(e){console.error("Error downloading the file:",e.message)}},getSupportObject:function(){var e,t={};return t.ProductName=this.getAppName(),t.Version=this.getVersion(),t.CommitHash=this.getGitCommitHash(),"undefined"!=typeof SettingsHandler&&(e=SettingsHandler.getGlobalProfileData(),t.Client=e.UserMandt,t.FullName=e.FullName,t.Language=e.Language),t.Hostname=this.getHostname(),t.Port=this.getPort(),t.Protocol=this.getProtocol(),t.FullURL=this.getFullUrl(),t.Navigator=this.getNavigatorDetails(),t.DeviceZoom=this.getZoom(),t.Screensize=this.getScreensize(),t.localStorageItems={...localStorage},t},showSupportDialog:function(n,e){var o=this,i=(void 0===e&&(e={}),this.createStyleClass(".supportDialogList > header.sapMListHdr",{padding:"0px !important"}),n=n||"Support Information",this.getSupportObject()),s=new sap.m.List({headerText:"General"}).addStyleClass("sapUiSizeCompact supportDialogList"),a=new sap.m.List({headerText:"Local Storage"}).addStyleClass("sapUiSizeCompact supportDialogList"),t=new sap.m.List({headerText:"Attachments"}).addStyleClass("sapUiSizeCompact supportDialogList"),r=(Object.keys(i).forEach(function(t){["localStorageItems"].includes(t)||s.addItem(new sap.m.CustomListItem({content:new sap.m.FlexBox({alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.Label({text:t}),new sap.m.ExpandableText({overflowMode:sap.m.ExpandableTextOverflowMode.InPlace,text:i[t],wrappingType:sap.m.WrappingType.Hyphenated,textDirection:sap.ui.core.TextDirection.RTL})]})})),"localStorageItems"===t&&Object.keys(i[t]).forEach(function(e){a.addItem(new sap.m.CustomListItem({content:new sap.m.FlexBox({alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.Label({text:e}),new sap.m.ExpandableText({overflowMode:sap.m.ExpandableTextOverflowMode.InPlace,text:i[t][e],wrappingType:sap.m.WrappingType.Hyphenated})]})}))})}),new sap.m.Image({width:"100%"})),c=new sap.m.Dialog({title:n,type:"Message",content:[s,a,t],resizable:!0,draggable:!0,stretch:sap.ui.Device.system.phone,buttons:[new sap.m.Button({text:"Send via Email",type:"Emphasized",press:function(e){var t=e.getSource();t.setType("Success"),sap.m.URLHelper.triggerEmail("",n+(new Date).toLocaleString(),JSON.stringify({...i},null,4)),setTimeout(function(){t.setType("Emphasized")},2e3)}}),new sap.m.Button({text:"Copy to clipboard",type:"Emphasized",press:function(e){var t=e.getSource();navigator.clipboard.writeText(JSON.stringify({...i,screenshotDataUrl:o.screenshotDataUrl},null,4)).then(function(){t.setType("Success"),setTimeout(function(){t.setType("Emphasized")},2e3)},function(e){alert("Could not copy text: ",e)})}}),new sap.m.Button({text:"OK",press:function(){c.close()}})],afterClose:function(){c.destroy()}});!0===e.captureScreenshot||void 0===e.captureScreenshot?this.captureScreenshot().then(function(e){o.screenshotDataUrl=e.toDataURL(),r.setSrc(o.screenshotDataUrl),t.addItem(new sap.m.CustomListItem({content:new sap.m.FlexBox({alignItems:"Start",justifyContent:"SpaceBetween",items:[new sap.m.Label({text:"Screenshot"}),new sap.m.Button({text:"Show",press:function(e){o.screenshotPopover=new sap.m.ResponsivePopover({resizable:!0,contentWidth:"50%",title:"Screenshot",content:new sap.m.FlexBox({height:"100%",items:[r],alignItems:"Start",justifyContent:"Center"}),placement:sap.m.PlacementType.Horizontal,verticalScrolling:!1,beginButton:new sap.m.Button({press:function(){o.downloadURI("screenshot_"+(new Date).getTime()+".png",o.screenshotDataUrl)},icon:"sap-icon://download"})}),o.screenshotPopover.openBy(e.getSource())}})]})})),c.open()},function(){c.open()}):c.open()},showOverviewDialog:function(e){var t=this,n=(e=e||"Information",""),o="<h2>"+this.getAppName()+`</h2>
          <p>Frontend version number: <code>`+this.getVersion()+"</code></p><p>Commit hash: <code>"+this.getGitCommitHash()+"</code></p>",o=(n+=o,void 0!==this.getCopyRight()&&""!==this.getCopyRight()&&(n=(n+="<hr><h3>Copyright</h3>")+"<p>"+this.getCopyRight()+"</p>"),0<Object.keys(this.getLicenseObject()).length&&(n+="<hr><p><h2>Licenses</h2></p>",Object.keys(this.getLicenseObject()).forEach(function(e){n=(n+="<h4>"+e+"</h4>")+"<p>"+t.getLicenseObject()[e]+"</p>"})),new sap.m.FormattedText({htmlText:n})),i=new sap.m.Dialog({title:e,type:"Message",content:o,endButton:new sap.m.Button({text:"OK",press:function(){i.close()}}),afterClose:function(){i.destroy()}});i.open()}}}();